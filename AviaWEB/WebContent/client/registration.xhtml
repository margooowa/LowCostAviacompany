<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="#{localeController.language}"
xmlns="http://www.w3.org/1999/xhtml"   
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:p="http://primefaces.org/ui" 
    xmlns:f="http://java.sun.com/jsf/core">
    <f:view locale="#{localeController.locale}">
    <h:head>
     <h:outputStylesheet name="css/style.css"  />
     </h:head>
   <h:body>
      
      <ui:composition template="/WEB-INF/templates/common.xhtml">
   	    <ui:define name="favicon">
        <ui:include src="/WEB-INF/templates/faviconSub.xhtml" /> 
       </ui:define>    	
       <ui:define name="header">
        <ui:include src="/WEB-INF/templates/headerSub.xhtml" /> 
       </ui:define>	    
           <ui:define name="content">	
                       
        <h:form id="form">  
      
    <p:panel id="panel" header="New Person" style="width:400px;margin:0 auto">  
          <p:messages id="msgs"/>  
  
        <h:panelGrid columns="3">   
                       
            <h:outputLabel for="login" value="Login: *" />  
            <p:inputText id="login" value="#{loginController.login}" label="Login" validator="#{loginController.validateLogin}" required="true">  
              <p:ajax update="msgLogin" event="blur" />  
            </p:inputText>  
            <p:message for="login" id="msgLogin" display="icon"/> 
            
             <h:outputLabel for="pwd1" value="Password : *" />  
            <p:password id="pwd1" value="#{loginController.password}" match="pwd2" label="Password 1" required="true" feedback="true"/>  
            <p:message for="pwd1" id="msgPwd1" display="icon"/> 
  
            <h:outputLabel for="pwd2" value="Confirm password : *" />  
            <p:password id="pwd2" value="#{loginController.password}" label="Password 2" required="true"/> 
            <p:message for="pwd2" id="msgPwd2" display="icon"/> 
            
             <h:outputLabel for="firstname" value="Firstname: *" />  
            <p:inputText id="firstname" value="#{loginController.name}" required="true" label="Firstname">  
                <f:validateLength minimum="2" />  
            </p:inputText>   
            <p:message for="firstname" display="icon"/>  
  
            <h:outputLabel for="surname" value="Surname: *" />  
            <p:inputText id="surname" value="#{loginController.surname}" label="Surname" required="true">  
                <f:validateLength minimum="2" />  
                <p:ajax update="msgSurname" event="keyup" />  
            </p:inputText>  
            <p:message for="surname" id="msgSurname" display="icon"/> 
               
        <h:outputLabel for="email" value="Email: *" />  
            <p:inputText id="email" value="#{loginController.email}" label="Email" required="true">  
                <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" /> 
                <p:ajax update="msgEmail" event="keyup" />  
            </p:inputText>  
            <p:message for="email" id="msgEmail" display="icon"/>
            
            <h:outputLabel for="phone" value="Phone: *" />  
            <p:inputMask id="phone" value="#{loginController.phone}" label="Phone" mask="(999)999-99-99" required="true">  
                <f:validateLength minimum="2" />  
                <p:ajax update="msgPhone" event="keyup" />  
            </p:inputMask>  
            <p:message for="phone" id="msgPhone" display="icon"/>  
  
        <p:commandButton id="btn" value="Save" update="panel" action="#{loginController.doCreateUser}"
 							style="background:linear-gradient(to bottom, #ffde03 0%,#febd03 100%) !important;">         
        </p:commandButton> 
         </h:panelGrid>
    </p:panel>  
  
  	</h:form>
            
        </ui:define>
        
         <ui:define name="basket"> 
           
        <ui:include src="/WEB-INF/templates/adverSub.xhtml" /> 
       </ui:define>	   
      </ui:composition>      
   </h:body>
   </f:view>
</html>	